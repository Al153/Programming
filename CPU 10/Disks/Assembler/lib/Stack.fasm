
N_SPACE Stack
PRINTING -> .( Compiling stack FASM WORDS...) 
Stack ->
	1024 CONST stckSize
	0 stckSize 1 + #Segs
	stckSize INT[ 0 ] stack
	0	INT retValue

	.( HERE\n)


	LABEL: sOflow
	LABEL: sUflow
	LABEL: entry

	: init; // ( -- )
		jmp, retValue sti;
		stp, 0 # ldi;
		pc, entry ldi;
		sOflow !LABEL
			[ str( Error: Stack overflow.) 
			] echo;
			pc, retValue ldi;
		sUflow !LABEL
			[ str( Error: Stack overflow.)
			] echo;
			pc, retValue ldi;
		entry !LABEL
	;

.( THERE\n)

	: push; // ( reg -- )
		stp, stckSize 1 - 4 * # cma;
		gre, sOflow bra;
		stp, stack sti[];
		stp, 4 # adda;
	;
	
	: pop; // ( reg -- )
		stp, testr, 1 nskip;
		sUflow jmp;
		stp, 4 # suba;
		stp, stack ldi[];
	;

	: peek
		stp, testr, 1 nskip;
		sUflow jmp;
		stp, stack 4 - ldi[];
	;
<<<<<<< HEAD
	.( Done!\n)
;; ;;
=======

.( WHERE\n)
	: 8push;
		one, push;
		one, push;
		one, push;
		one, push;
		one, push;
		one, push;
		one, push;
	;


.( EHHH)
	: 88push;
		8push; 8push;
		8push; 8push;
		8push; 8push;
		8push; 8push;
	;

.( PEEKABOO)

	: 888push;
		88push; 88push;
		88push; 88push;
		88push; 88push;
		88push; 88push;
	;

.( YOLESNOOBS\n)
;;
.( Done!\n) ;;
>>>>>>> origin/master
